---
applyTo: "**/*.cs"
---

- Use `var` when the type is obvious from the right side of the assignment, otherwise use explicit types.
- Use expression-bodied members for simple properties and methods.
- Use ArgumentNullException.ThrowIfNull(argument) for argument validation.
- Split long method chains into multiple lines for better readability.
- Use 'is not null' instead of '!= null' for null checks.
- Do not add using namespaces or full type names already present in GlobalUsings.cs
  
- Use 'sut' (System Under Test) as the variable name for the main object being tested.
- Use AutoFixture.Xunit3 and NSubstitute for test data generation and mocking.
- AwesomeAssertions and xunit.v3 for unit tests.
- DisplayName attribute for test methods to provide more descriptive and unique names. You cannot change the name unless explicitly asked.
- All tests methods named like "TestX" where X is an incrementing number.
- Tests should be independent and not rely on the execution order.
- Tests should cover both typical and edge cases.
- Use `sut.Should().ThrowExactly<ExceptionType>()` to test for exceptions.
- If concrete fixture implementations (instead of mock or autogenerated fixture) are needed use project Kapa.Fixtures to store them in their respective type folders (Fixtures, Rules, Outcomes).
- Do not use names like 'Dummy', 'Fake', 'Stub', 'Test', or 'Mock' for concrete fixture implementations.
  Give them descriptive names.
- use 'using var scope = new AssertionScope();' before multiple assertions in a test method.
- Use `// Arrange`, `// Act`, `// Assert` comments to separate test sections.

